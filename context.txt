hono-compress/
‚îú‚îÄ‚îÄ .bunfig.toml
‚îú‚îÄ‚îÄ .editorconfig
‚îú‚îÄ‚îÄ .github
‚îÇ   ‚îú‚îÄ‚îÄ copilot-instructions.md
‚îÇ   ‚îî‚îÄ‚îÄ workflows
‚îÇ       ‚îî‚îÄ‚îÄ build.yml
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ eslint.config.js
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ prettier.config.js
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts
‚îÇ   ‚îú‚îÄ‚îÄ helpers.ts
‚îÇ   ‚îú‚îÄ‚îÄ imports.ts
‚îÇ   ‚îú‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ middleware.ts
‚îÇ   ‚îú‚îÄ‚îÄ streams.ts
‚îÇ   ‚îî‚îÄ‚îÄ types.ts
‚îú‚îÄ‚îÄ tests
‚îÇ   ‚îú‚îÄ‚îÄ index.test.ts
‚îÇ   ‚îî‚îÄ‚îÄ mei.jpg
‚îî‚îÄ‚îÄ tsconfig.json

--- .bunfig.toml ---
````toml
[install]
auto = "force"
exact = false
production = false

[install.scopes]
"*" = { trusted = true }

[install.cache]
dir = "~/.bun/install/cache"

[run]
bun = true

````

--- .editorconfig ---
````
root = true

[*]
charset = utf-8
end_of_line = lf
indent_size = 2
indent_style = space
insert_final_newline = true
trim_trailing_whitespace = true

[*.md]
indent_size = 4
trim_trailing_whitespace = false

````

--- .github/copilot-instructions.md ---
````md
# Principle Zero: The Directive of Optimality

The primary and non-negotiable objective is to deliver the most effective solution by achieving the optimal synthesis of **correctness, clarity, and performance**. A solution's value is measured by its capacity to solve the user's specific problem with absolute robustness and maximum efficiency.

---

## I. Input Analysis & Strategy Formulation

1.  **Deconstruct and Clarify:**
    *   Systematically dissect every user request into its fundamental components and discrete logical steps.
    *   Analyze the full conversational context to inform the current request's execution.
    *   If any ambiguity exists, formulate specific, technical questions to achieve absolute clarity. Make zero assumptions about unstated requirements.

2.  **Strategic Planning:**
    *   Before generating any artifact (code, text, etc.), devise a sequential, logical plan of execution.
    *   Identify the most direct path to the solution, prioritizing the simplest effective approach that meets all constraints.

3.  **Tool and Library Selection:**
    *   Select only the most appropriate high-performance libraries and internal tools for the task.
    *   Justify each selection based on the specific needs of the problem, balancing performance with robustness and established best practices.

---

## II. Code Generation & Execution

1.  **Hierarchy of Implementation Priorities:**
    *   **1. Correctness:** The code must produce the correct result and handle all specified and inferred edge cases. It is non-negotiable.
    *   **2. Clarity:** The code must be entirely self-documenting. Its purpose, logic, and flow must be immediately obvious from its structure and naming.
    *   **3. Performance:** The code must be optimized for speed and resource efficiency without compromising correctness or clarity.

2.  **Code Syntax & Architecture:**
    *   **Absolute Zero-Comments Mandate:** All forms of code comments are unconditionally forbidden. This prohibition includes, but is not limited to: single-line comments (e.g., `//`, `#`), multi-line/block comments (e.g., `/* ... */`), and documentation strings/blocks in any form (e.g., Python's `"""..."""`, Javadoc's `/** ... */`). Any text within a code file that is not part of the executable syntax is a violation. Clarity must be achieved *exclusively* through architectural purity, precise naming, and self-evident logical flow.
    *   **Conciseness and No Redundancy:** Generate the most concise code possible that adheres to the other principles. Eliminate all boilerplate, redundant logic, unnecessary variables, and superfluous operations.
    *   **Robust Error Handling:** Integrate precise and explicit error and exception handling directly into the code's structure to manage all potential failures gracefully.
    *   **Strict Formatting:** All code must adhere to a consistent, clean, and standard format. For Python, this means strict adherence to PEP 8, with a maximum line length of 88 characters. Indentation must be exactly 4 spaces.

3.  **Execution Environment & Code Blocks:**
    *   **Stateless Execution:** Recognize that the `tool_code` execution environment is stateless. Each execution block must be entirely self-contained, declaring all necessary imports, dependencies, and variables.
    *   **Quad-Backtick Encapsulation:** All `tool_code` blocks must be encapsulated using four backticks (````) to ensure robust parsing and prevent formatting conflicts with nested code snippets.

    **Example of a correctly formatted `tool_code` block:**
    ````python
    import pandas as pd

    def create_and_display_dataframe(data: dict):
        """This is a docstring and is forbidden."""
        # This is a single-line comment and is forbidden.
        df = pd.DataFrame(data)
        print(df)

    sample_data = {
        'column_one': [1, 2],
        'column_two': [3, 4],
    }
    create_and_display_dataframe(sample_data)
    ````
    **The above example contains violations.** The correct implementation would be:
    ````python
    import pandas as pd

    def create_and_display_dataframe(data: dict):
        frame = pd.DataFrame(data)
        print(frame)

    data_to_display = {
        'column_one': [1, 2],
        'column_two': [3, 4],
    }
    create_and_display_dataframe(data_to_display)
    ````

---

## III. Output & Communication

1.  **Directness and Focus:**
    *   Center the response exclusively on providing a complete and direct solution to the user's query.
    *   Present code, data, and results with the minimal necessary surrounding exposition. The solution itself is the primary content of the response.

2.  **Professional Standards:**
    *   Maintain a professional and direct tone using precise, unambiguous technical language.
    *   Use Markdown for all responses to ensure structured, clean, and readable output.
    *   Explicitly state all external dependencies required to run any generated code at the beginning of the response.
````

--- .github/workflows/build.yml ---
````yml
name: Build and Release

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [18, 20, 22]
    
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: ${{ matrix.node-version }}
        cache: 'npm'
        
    - name: Install dependencies
      run: npm ci
      
    - name: Install Hono peer dependency
      run: npm install hono@^4.8.12 --no-save
      
    - name: Type check
      run: npm run typecheck
      
    - name: Lint
      run: npm run lint
      
    - name: Test
      run: npm test
      
    - name: Build
      run: npm run build
      
    - name: Upload artifacts
      uses: actions/upload-artifact@v4
      with:
        name: dist-node${{ matrix.node-version }}
        path: dist/
        retention-days: 7

  release:
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main' && github.event_name == 'push'
    
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 22
        cache: 'npm'
        
    - name: Install dependencies
      run: npm ci
      
    - name: Install Hono peer dependency
      run: npm install hono@^4.8.12 --no-save
      
    - name: Build
      run: npm run build
      
    - name: Create archive
      run: tar -czf hono-compress-dist.tar.gz dist/
        
    - name: Upload release
      uses: actions/upload-artifact@v4
      with:
        name: release-build
        path: hono-compress-dist.tar.gz

````

--- .gitignore ---
````
### https://github.com/github/gitignore/blob/main/Global/macOS.gitignore

# General
.DS_Store
.AppleDouble
.LSOverride

# Icon must end with two \r
Icon

# Thumbnails
._*

# Files that might appear in the root of a volume
.DocumentRevisions-V100
.fseventsd
.Spotlight-V100
.TemporaryItems
.Trashes
.VolumeIcon.icns
.com.apple.timemachine.donotpresent

# Directories potentially created on remote AFP share
.AppleDB
.AppleDesktop
Network Trash Folder
Temporary Items
.apdisk


### https://github.com/github/gitignore/blob/main/Global/VisualStudioCode.gitignore

.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json
!.vscode/*.code-snippets

# Local History for Visual Studio Code
.history/

# Built Visual Studio Code Extensions
*.vsix


### https://github.com/github/gitignore/blob/main/Node.gitignore

# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*
.pnpm-debug.log*

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# Snowpack dependency directory (https://snowpack.dev/)
web_modules/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Optional stylelint cache
.stylelintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variable files
.env
.env.development.local
.env.test.local
.env.production.local
.env.local

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next
out

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and not Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# vuepress build output
.vuepress/dist

# vuepress v2.x temp and cache directory
.temp
.cache

# Docusaurus cache and generated files
.docusaurus

# Serverless directories
.serverless/

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port

# Stores VSCode versions used for testing VSCode extensions
.vscode-test

# yarn v2
.yarn/cache
.yarn/unplugged
.yarn/build-state.yml
.yarn/install-state.gz
.pnp.*

# Bun
.bun

````

--- eslint.config.js ---
````js
import eslint from '@eslint/js'
import prettier from 'eslint-config-prettier'
import importX from 'eslint-plugin-import-x'
import markdown from 'eslint-plugin-markdown'
import perfectionist from 'eslint-plugin-perfectionist'
import regexp from 'eslint-plugin-regexp'
import security from 'eslint-plugin-security'
import sonarjs from 'eslint-plugin-sonarjs'
import tsdoc from 'eslint-plugin-tsdoc'
import unicorn from 'eslint-plugin-unicorn'
import tseslint from 'typescript-eslint'

export default tseslint.config(
  eslint.configs.recommended,
  ...tseslint.configs.recommended,
  ...markdown.configs.recommended,
  unicorn.configs['flat/recommended'],
  regexp.configs['flat/recommended'],
  importX.flatConfigs.recommended,
  importX.flatConfigs.typescript,
  perfectionist.configs['recommended-natural'],
  security.configs.recommended,
  sonarjs.configs.recommended,
  prettier,
  { ignores: ['dist', 'README.md'] },
  { plugins: { tsdoc } },
  {
    rules: {
      '@typescript-eslint/no-explicit-any': 'off',
      '@typescript-eslint/no-unused-vars': [
        'warn',
        { argsIgnorePattern: '^_', varsIgnorePattern: '^_' },
      ],
      'import-x/no-named-as-default-member': 'off',
      'import-x/no-unresolved': 'warn',
      'no-undef': 'off',
      'perfectionist/sort-interfaces': 'off',
      'perfectionist/sort-modules': 'off',
      'perfectionist/sort-object-types': 'off',
      'perfectionist/sort-objects': 'off',
      'sonarjs/cognitive-complexity': ['error', 12],
      'tsdoc/syntax': 'warn',
      'unicorn/consistent-function-scoping': 'off',
      'unicorn/filename-case': 'off',
      'unicorn/no-null': 'off',
      'unicorn/prefer-top-level-await': 'off',
      'unicorn/prevent-abbreviations': 'off',
    },
  },
  {
    settings: { 'import-x/resolver': { typescript: true } },
  },
)
````

--- package.json ---
````json
{
  "name": "hono-compress",
  "type": "module",
  "version": "0.7.0",
  "description": "Compression plugin for Hono working with Bun",
  "author": {
    "name": "Walter Purcaro",
    "url": "https://github.com/vuolter"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/vuolter/hono-compress"
  },
  "keywords": [
    "hono",
    "compression",
    "node",
    "deno",
    "bun",
    "edge",
    "zstd",
    "brotli",
    "gzip",
    "deflate"
  ],
  "exports": {
    "import": {
      "types": "./dist/index.d.mts",
      "default": "./dist/index.mjs"
    },
    "require": {
      "types": "./dist/index.d.cts",
      "default": "./dist/index.cjs"
    }
  },
  "main": "./dist/index.cjs",
  "module": "./dist/index.mjs",
  "types": "./dist/index.d.cts",
  "files": [
    "dist"
  ],
  "url": "https://github.com/vuolter/hono-compress",
  "scripts": {
    "update": "bun update --latest && npm install --force --no-fund --package-lock-only",
    "build": "NODE_OPTIONS=--max-old-space-size=8192 pkgroll --clean-dist",
    "build:minify": "NODE_OPTIONS=--max-old-space-size=8192 pkgroll --clean-dist --minify",
    "build:watch": "pkgroll --clean-dist --watch",
    "test": "bun test",
    "format": "prettier . --write",
    "lint": "eslint --cache --cache-location node_modules/.cache/eslint --cache-strategy content --fix .",
    "typecheck": "tsc --noEmit",
    "lock": "bun install --silent && npm install --force --no-audit --no-fund --package-lock-only"
  },
  "peerDependencies": {
    "hono": "^4.8.12"
  },
  "dependencies": {
    "@mongodb-js/zstd": "^2.0.1",
    "brotli-wasm": "^3.0.1"
  },
  "devDependencies": {
    "@eslint/js": "^9.32.0",
    "@types/bun": "^1.2.19",
    "@types/eslint__js": "^9.14.0",
    "@types/node": "^24.1.0",
    "eslint": "^9.32.0",
    "eslint-config-prettier": "^10.1.8",
    "eslint-import-resolver-typescript": "^4.4.4",
    "eslint-plugin-import-x": "^4.16.1",
    "eslint-plugin-markdown": "^5.1.0",
    "eslint-plugin-perfectionist": "^4.15.0",
    "eslint-plugin-regexp": "^2.9.1",
    "eslint-plugin-security": "^3.0.1",
    "eslint-plugin-sonarjs": "^3.0.4",
    "eslint-plugin-tsdoc": "^0.4.0",
    "eslint-plugin-unicorn": "^60.0.0",
    "pkgroll": "^2.15.0",
    "prettier": "^3.6.2",
    "type-fest": "^4.41.0",
    "typescript": "~5.8.0",
    "typescript-eslint": "^8.38.0"
  },
  "optionalDependencies": {
    "@rollup/rollup-darwin-arm64": "^4.46.2",
    "@rollup/rollup-darwin-x64": "^4.46.2",
    "@rollup/rollup-linux-x64-gnu": "^4.46.2",
    "@rollup/rollup-win32-x64-msvc": "^4.46.2"
  },
  "trustedDependencies": [
    "@mongodb-js/zstd",
    "unrs-resolver"
  ]
}
````

--- prettier.config.js ---
````js
export default {
  printWidth: 88,
  semi: false,
  singleQuote: true,
  tabWidth: 2,
  trailingComma: 'all',
}

````

--- README.md ---
````md
# hono-compress

Compression plugin for [Hono](https://github.com/honojs/hono)

Drop-in replacement of the built-in [Compress Middleware](https://hono.dev/docs/middleware/builtin/compress), but with some extra...

### Features

- all available compression formats (`zstd`, `brotli`, `gzip`, `deflate`)
- ultra-fast and 100% type-safe ‚ú®
- best format auto-selection
- streaming response support
- configurable compression level and zlib options
- double-compressed content protection
- content size threshold and custom filtering
- Cloudflare Workers and Deno Deploy runtime detection
- works with [Node](https://nodejs.org/), [Deno](https://deno.com/) and [Bun](https://bun.sh/)

Leave a star on GitHub if you like it üôè

## Installation

<details open>
<summary>npm</summary>

```bash
npm install hono-compress
```

</details>

<details>
<summary>Yarn</summary>

```bash
yarn add hono-compress
```

</details>

<details>
<summary>pnpm</summary>

```bash
pnpm add hono-compress
```

</details>

<details>
<summary>Bun</summary>

```bash
bun add hono-compress
```

</details>

<details>
<summary>Deno</summary>

```bash
deno add hono-compress
```

</details>

## Usage

```typescript
import { Hono } from 'hono'
import { compress } from 'hono-compress'

const app = new Hono()

app.use(compress())
```

## Configuration

```typescript
compress({
  encoding,
  encodings,
  force,
  threshold,
  zstdLevel,
  brotliLevel,
  gzipLevel,
  options,
  filter,
})
```

### encoding

Defaults to `undefined`.

The compression format encoding to use to compress the response content.
Can be one of the following:

- `zstd`
- `br`
- `gzip`
- `deflate`

If not defined, all the formats declared in the option `encodings` are allowed.

This option is provided primarily to maintain compatibility with `hono/compress`, use the option `encodings` to set the wanted compression formats.

### encodings

Defaults to `['zstd', 'br', 'gzip', 'deflate']`.

The compression format encodings allowed to be used to compress the response content.

The first format matching the request accept-encoding is chosen to be used to compress the response content.

### force

Defaults to `false`.

Forces content compression even if the request accept-encoding and the response content-type cannot be determined.

Use with caution.

### threshold

Defaults to `1024`.

The minimum size in bytes for a response content to be compressed.

### zstdLevel

Defaults to `2`.

Zstandard algorithm compression level (encoding `zstd`).

Refer to the zstd [manual](https://facebook.github.io/zstd/zstd_manual.html) for more details.

### brotliLevel

Defaults to `4`.

Brotli algorithm compression level (encoding `br`).

Refer to the Brotli [specification](https://www.ietf.org/rfc/rfc7932.txt) for more details.

### gzipLevel

Defaults to `6`.

Gzip algorithms compression level (encoding `gzip` and `deflate`).

Refer to the zlib [manual](https://zlib.net/manual.html) for more details.

### options

Defaults to `{}`.

Options passed to the node compression engine to compress content.

Refer to the node zlib [documentation](https://nodejs.org/api/zlib.html) for more details.

### filter

Defaults to `undefined`.

An optional function callback to state if the response content should be compressed or not.

#### Parameters

- [Hono Context](https://hono.dev/docs/api/context)

#### Return value

Boolean

By default, content compression is disabled on Cloudflare Workers and Deno Deploy, a custom filter can be used to bypass this behavior and force the response to be always compressed:

```typescript
import type { Context } from 'hono'

compress({
  filter: (c: Context) => true,
})
```

## About

This project is a fork of [bun-compression](https://github.com/sunneydev/bun-compression), which itself is a fork of [elysia-compression](https://github.com/gusb3ll/elysia-compression).

Both projects were unmaintained and lacked many of the features I was looking for, so I started with them, but ended up improving and expanding many parts, eventually rewriting them from scratch.

This project was also inspired by [hono/compress](https://github.com/honojs/hono), [expressjs/compression](https://github.com/expressjs/compression) and [elysia-compress](https://github.com/vermaysha/elysia-compress).

````

--- src/constants.ts ---
````ts
export const CLOUDFLARE_WORKERS_NAVIGATOR = 'Cloudflare-Workers'

export const ACCEPTED_ENCODINGS = ['zstd', 'br', 'gzip', 'deflate'] as const
export const NODE_ENCODINGS = ['br', 'gzip', 'deflate'] as const

export const CACHECONTROL_NOTRANSFORM_REGEXP = /(?:^|,)\s*no-transform\s*(?:,|$)/i

export const THRESHOLD_SIZE = 1024

export const ZSTD_DEFAULT_LEVEL = 2
export const ZSTD_MIN_LEVEL = 1
export const ZSTD_MAX_LEVEL = 22

export const BROTLI_DEFAULT_LEVEL = 4
export const BROTLI_MIN_LEVEL = 1
export const BROTLI_MAX_LEVEL = 11

export const GZIP_DEFAULT_LEVEL = 6
export const GZIP_MIN_LEVEL = 0
export const GZIP_MAX_LEVEL = 9
````

--- src/helpers.ts ---
````ts
import { COMPRESSIBLE_CONTENT_TYPE_REGEX } from 'hono/utils/compress'

import {
  CACHECONTROL_NOTRANSFORM_REGEXP,
  CLOUDFLARE_WORKERS_NAVIGATOR,
} from '~/constants'

export const isCloudflareWorkers =
  globalThis.navigator?.userAgent === CLOUDFLARE_WORKERS_NAVIGATOR

export const isDenoDeploy =
  (globalThis as any).Deno?.env?.get('DENO_DEPLOYMENT_ID') !== undefined

export function isCompressible(response: Response, forceCompression: boolean) {
  const contentType = response.headers.get('Content-Type')
  return contentType
    ? COMPRESSIBLE_CONTENT_TYPE_REGEX.test(contentType)
    : forceCompression
}

export function isTransformable(response: Response) {
  const cacheControl = response.headers.get('Cache-Control')
  return !cacheControl || !CACHECONTROL_NOTRANSFORM_REGEXP.test(cacheControl)
}
````

--- src/imports.ts ---
````ts
import type { BrotliWasmType } from 'brotli-wasm'

export const brotli: BrotliWasmType | null = await import('brotli-wasm')
  .then(async (module) => await module.default)
  .catch(() => null)

export const zlib = await import('node:zlib').catch(() => null)
````

--- src/index.ts ---
````ts
export { compress, compress as default } from '~/middleware'
export * from '~/streams'
export * from '~/types'

````

--- src/middleware.ts ---
````ts
import type { Context, MiddlewareHandler } from 'hono'

import type { CompressionEncoding, CompressOptions } from '~/types'

import {
  ACCEPTED_ENCODINGS,
  BROTLI_DEFAULT_LEVEL,
  GZIP_DEFAULT_LEVEL,
  THRESHOLD_SIZE,
  ZSTD_DEFAULT_LEVEL,
} from '~/constants'
import {
  isCloudflareWorkers,
  isCompressible,
  isDenoDeploy,
  isTransformable,
} from '~/helpers'
import { brotli, zlib } from '~/imports'
import {
  BrotliCompressionStream,
  ZlibCompressionStream,
  ZstdCompressionStream,
} from '~/streams'

function validateEncodings(encodings: CompressionEncoding[]) {
  const unsupportedEncoding = encodings.find(
    (encoding) => !ACCEPTED_ENCODINGS.includes(encoding),
  )
  if (unsupportedEncoding) {
    throw new Error(`Unsupported encoding: ${unsupportedEncoding}.`)
  }
}

function findMatchingEncoding(
  context: Context,
  availableEncodings: CompressionEncoding[],
): CompressionEncoding | null {
  const acceptEncodingHeader = context.req.header('Accept-Encoding')
  if (!acceptEncodingHeader) {
    return null
  }
  return (
    availableEncodings.find((encoding) =>
      acceptEncodingHeader.includes(encoding),
    ) ?? null
  )
}

function createCompressionStream(
  encoding: CompressionEncoding,
  zstdLevel: number,
  brotliLevel: number,
  gzipLevel: number,
  options: any,
): { stream: any; isTransformStream: boolean } {
  if (encoding === 'zstd') {
    return { stream: new ZstdCompressionStream(zstdLevel), isTransformStream: true }
  }
  if (encoding === 'br' && brotli) {
    return { stream: new BrotliCompressionStream(brotliLevel), isTransformStream: false }
  }
  if (encoding === 'gzip' || encoding === 'deflate') {
    if (zlib) {
      return {
        stream: new ZlibCompressionStream(encoding, { level: gzipLevel, ...options }),
        isTransformStream: false,
      }
    }
    return { stream: new CompressionStream(encoding), isTransformStream: true }
  }
  return { stream: null, isTransformStream: false }
}

function shouldSkipCompression(
  context: Context,
  threshold: number,
  force: boolean,
  filter: any,
): boolean {
  if (!context.res.body || context.req.method === 'HEAD') return true
  if (context.res.headers.has('Content-Encoding')) return true
  
  const contentLength = Number(context.res.headers.get('Content-Length'))
  if (contentLength > 0 && contentLength < threshold) return true
  
  return (
    !isCompressible(context.res, force) ||
    !isTransformable(context.res) ||
    !!context.req.header('x-no-compression') ||
    (filter ? !filter(context) : isDenoDeploy || isCloudflareWorkers)
  )
}

export function compress({
  encoding,
  encodings = [...ACCEPTED_ENCODINGS],
  force = false,
  threshold = THRESHOLD_SIZE,
  zstdLevel = ZSTD_DEFAULT_LEVEL,
  brotliLevel = BROTLI_DEFAULT_LEVEL,
  gzipLevel = GZIP_DEFAULT_LEVEL,
  options = {},
  filter,
}: CompressOptions = {}): MiddlewareHandler {
  const activeEncodings = encoding ? [encoding] : encodings
  validateEncodings(activeEncodings)

  return async function compressionMiddleware(context, next) {
    await next()

    if (shouldSkipCompression(context, threshold, force, filter)) return

    const matchedEncoding =
      findMatchingEncoding(context, activeEncodings) ?? (force ? activeEncodings[0] : null)

    if (!matchedEncoding) return

    const { stream, isTransformStream } = createCompressionStream(
      matchedEncoding,
      zstdLevel,
      brotliLevel,
      gzipLevel,
      options,
    )

    if (!stream) return

    context.res = isTransformStream
      ? new Response(context.res.body!.pipeThrough(stream as TransformStream), context.res)
      : await context.res.body!.pipeTo(stream.writable).then(() => new Response(stream.readable, context.res))

    context.res.headers.delete('Content-Length')
    context.res.headers.set('Content-Encoding', matchedEncoding)
  }
}
````

--- src/streams.ts ---
````ts
import type { Duplex } from 'node:stream'

import zstd from '@mongodb-js/zstd'
import { Buffer } from 'node:buffer'

import type { NodeCompressionEncoding, NodeCompressionOptions } from '~/types'

import { brotli, zlib } from '~/imports'

export class ZstdCompressionStream extends TransformStream<Uint8Array, Uint8Array> {
  constructor(level?: number) {
    super({
      async transform(chunk, controller) {
        const compressedChunk = await zstd.compress(Buffer.from(chunk), level)
        controller.enqueue(compressedChunk)
      },
    })
  }
}

export class BrotliCompressionStream {
  readonly readable: ReadableStream
  readonly writable: WritableStream

  constructor(_level?: number) {
    const compressor = new (brotli as any).CompressStream()
    let controller: ReadableStreamDefaultController<Uint8Array>
    
    this.readable = new ReadableStream({
      start(c) {
        controller = c
      },
    })
    
    this.writable = new WritableStream({
      write(chunk: Uint8Array) {
        const compressed = compressor.compress(
          chunk,
          (brotli as any).BrotliStreamResultCode.NeedsMoreInput,
        )
        if (compressed) controller.enqueue(compressed)
      },
      close() {
        const final = compressor.compress(
          new Uint8Array(0),
          (brotli as any).BrotliStreamResultCode.Finished,
        )
        if (final) controller.enqueue(final)
        controller.close()
      },
    })
  }
}

function createZlibCompressHandle(
  encoding: NodeCompressionEncoding,
  options?: NodeCompressionOptions,
): Duplex {
  switch (encoding) {
    case 'br': {
      const { windowBits, level, memLevel, params, ...rest } = options ?? {}
      const {
        BROTLI_PARAM_LGWIN,
        BROTLI_PARAM_QUALITY,
        BROTLI_PARAM_LGBLOCK,
      } = zlib!.constants

      const brotliOptions = {
        params: {
          ...(windowBits && { [BROTLI_PARAM_LGWIN]: windowBits }),
          ...(level && { [BROTLI_PARAM_QUALITY]: level }),
          ...(memLevel && { [BROTLI_PARAM_LGBLOCK]: memLevel }),
          ...params,
        },
        ...rest,
      }
      return zlib!.createBrotliCompress(brotliOptions)
    }
    case 'deflate': {
      return zlib!.createDeflate(options)
    }
    case 'gzip': {
      return zlib!.createGzip(options)
    }
    default: {
      return zlib!.createDeflateRaw(options) as never
    }
  }
}

export class ZlibCompressionStream {
  readonly readable: ReadableStream
  readonly writable: WritableStream

  constructor(
    encoding: NodeCompressionEncoding,
    options?: NodeCompressionOptions,
  ) {
    const zlibHandle = createZlibCompressHandle(encoding, options)

    this.readable = new ReadableStream({
      async start(controller) {
        for await (const chunk of zlibHandle) {
          controller.enqueue(chunk)
        }
        controller.close()
      },
    })

    this.writable = new WritableStream({
      write(chunk: Uint8Array) {
        zlibHandle.write(Buffer.from(chunk))
      },
      close() {
        zlibHandle.end()
      },
    })
  }
}
````

--- src/types.ts ---
````ts
import type { Context } from 'hono'
import type { BrotliOptions, ZlibOptions } from 'node:zlib'
import type { IntClosedRange } from 'type-fest'

import type {
  ACCEPTED_ENCODINGS,
  BROTLI_MAX_LEVEL,
  BROTLI_MIN_LEVEL,
  GZIP_MAX_LEVEL,
  GZIP_MIN_LEVEL,
  NODE_ENCODINGS,
  ZSTD_MAX_LEVEL,
  ZSTD_MIN_LEVEL,
} from '~/constants'

export type CompressionEncoding = (typeof ACCEPTED_ENCODINGS)[number]

export type NodeCompressionEncoding = (typeof NODE_ENCODINGS)[number]
export type NodeCompressionOptions = BrotliOptions & ZlibOptions

export type CompressionFilter = (context: Context) => boolean

export type ZstdLevel = IntClosedRange<typeof ZSTD_MIN_LEVEL, typeof ZSTD_MAX_LEVEL>
export type BrotliLevel = IntClosedRange<
  typeof BROTLI_MIN_LEVEL,
  typeof BROTLI_MAX_LEVEL
>
export type GzipLevel = IntClosedRange<typeof GZIP_MIN_LEVEL, typeof GZIP_MAX_LEVEL>

export interface CompressOptions {
  encoding?: CompressionEncoding
  encodings?: CompressionEncoding[]
  force?: boolean
  threshold?: number
  zstdLevel?: ZstdLevel
  brotliLevel?: BrotliLevel
  gzipLevel?: GzipLevel
  options?: NodeCompressionOptions
  filter?: CompressionFilter
}
````

--- tests/index.test.ts ---
````ts
import { describe, expect, it } from 'bun:test'
import { type Context, Hono } from 'hono'

import type { CompressionEncoding } from '~/types'

import { compress } from '~/middleware'

const TEXT_BODY = `
„ÇÇ„Åó„ÇÇÈ°ò„ÅÑ„Åå‰∏Ä„Å§Âè∂„ÅÜ„Å™„Çâ
‰∏ñÁïå„Åß„Åü„Å£„Åü‰∏Ä‰∫∫„Å†„Åë„ÅÆÂèãÈÅî„Çí
Áîü„Åç„Çã„Åì„Å®„ÅØÁ¥†Êô¥„Çâ„Åó„ÅÑ„Åì„Å®
„Åù„Çì„Å™„Åµ„ÅÜ„Å´ÁßÅ„ÇÇÊÄù„Å£„Å¶„Åø„Åü„ÅÑ`

const SMALL_BODY = 'Hello, world!'

function createRequest(encoding: CompressionEncoding, headers?: HeadersInit) {
  return new Request('http://localhost/', {
    headers: { 'Accept-Encoding': encoding, ...headers },
  })
}

function textHandler(c: Context) {
  return c.text(TEXT_BODY, 200, { 'Content-Type': 'text/plain' })
}

describe('Compression Middleware', () => {
  describe('Encoding Support', () => {
    it('should handle zstd compression', async () => {
      const app = new Hono().use(compress()).get('/', textHandler)
      const response = await app.request(createRequest('zstd'))
      expect(response.headers.get('Content-Encoding')).toBe('zstd')
    })

    it('should handle brotli compression', async () => {
      const app = new Hono().use(compress()).get('/', textHandler)
      const response = await app.request(createRequest('br'))
      expect(response.headers.get('Content-Encoding')).toBe('br')
    })

    it('should handle gzip compression', async () => {
      const app = new Hono().use(compress()).get('/', textHandler)
      const response = await app.request(createRequest('gzip'))
      expect(response.headers.get('Content-Encoding')).toBe('gzip')
    })

    it('should handle deflate compression', async () => {
      const app = new Hono().use(compress()).get('/', textHandler)
      const response = await app.request(createRequest('deflate'))
      expect(response.headers.get('Content-Encoding')).toBe('deflate')
    })
  })

  describe('Configuration and Options', () => {
    it('should respect a custom threshold and not compress below it', async () => {
      const app = new Hono()
        .use(compress({ threshold: 100 }))
        .get('/', (c) => {
          const headers = { 'Content-Type': 'text/plain', 'Content-Length': SMALL_BODY.length.toString() }
          return c.text(SMALL_BODY, 200, headers)
        })
      const response = await app.request(createRequest('gzip'))
      expect(response.headers.get('Content-Encoding')).toBe(null)
    })

    it('should respect a custom threshold and compress above it', async () => {
      const app = new Hono()
        .use(compress({ threshold: 10 }))
        .get('/', (c) => {
          const headers = { 'Content-Type': 'text/plain', 'Content-Length': SMALL_BODY.length.toString() }
          return c.text(SMALL_BODY, 200, headers)
        })
      const response = await app.request(createRequest('gzip'))
      expect(response.headers.get('Content-Encoding')).toBe('gzip')
    })

    it('should not compress when filter returns false', async () => {
      const app = new Hono().use(compress({ filter: () => false })).get('/', textHandler)
      const response = await app.request(createRequest('gzip'))
      expect(response.headers.get('Content-Encoding')).toBe(null)
    })

    it('should compress when filter returns true', async () => {
      const app = new Hono().use(compress({ filter: () => true })).get('/', textHandler)
      const response = await app.request(createRequest('gzip'))
      expect(response.headers.get('Content-Encoding')).toBe('gzip')
    })

    it('should throw an error for unsupported encodings', () => {
      const initializeWithInvalidEncoding = () => {
        new Hono().use(compress({ encoding: 'invalid-encoding' as any }))
      }
      expect(initializeWithInvalidEncoding).toThrow('Unsupported encoding: invalid-encoding.')
    })
  })

  describe('Header Handling', () => {
    it('should preserve additional response headers', async () => {
      const app = new Hono().use(compress({ encoding: 'deflate' })).get('/', (c) => {
        c.res.headers.set('X-Powered-By', 'Hono')
        return textHandler(c)
      })
      const response = await app.request(createRequest('deflate'))
      expect(response.headers.get('Content-Encoding')).toBe('deflate')
      expect(response.headers.get('X-Powered-By')).toBe('Hono')
    })

    it('should not compress if "x-no-compression" request header is present', async () => {
      const app = new Hono().use(compress()).get('/', textHandler)
      const request = createRequest('gzip', { 'x-no-compression': 'true' })
      const response = await app.request(request)
      expect(response.headers.get('Content-Encoding')).toBe(null)
    })

    it('should not compress if "Cache-Control: no-transform" is set', async () => {
      const app = new Hono().use(compress()).get('/', (c) => {
        c.header('Cache-Control', 'no-transform')
        return c.text(TEXT_BODY)
      })
      const response = await app.request(createRequest('gzip'))
      expect(response.headers.get('Content-Encoding')).toBe(null)
    })

    it('should not compress if response already has a Content-Encoding', async () => {
      const app = new Hono().use(compress()).get('/', (c) => {
        c.header('Content-Encoding', 'identity')
        return c.text(TEXT_BODY)
      })
      const response = await app.request(createRequest('gzip'))
      expect(response.headers.get('Content-Encoding')).toBe('identity')
    })
  })

  describe('Content-Type Handling', () => {
    it('should preserve "text/plain" content type', async () => {
      const app = new Hono().use(compress({ encoding: 'deflate' })).get('/', textHandler)
      const response = await app.request(createRequest('deflate'))
      expect(response.headers.get('Content-Type')).toBe('text/plain')
    })

    it('should preserve "application/json" content type', async () => {
      const app = new Hono()
        .use(compress())
        .get('/', (c) => c.json({ hello: 'world' }))
      const response = await app.request(createRequest('deflate'))
      expect(response.headers.get('Content-Type')).toStartWith('application/json')
    })

    it('should not compress non-compressible types like images', async () => {
      const app = new Hono().use(compress())
      app.get('/', async (c) =>
        c.body(await Bun.file('tests/mei.jpg').arrayBuffer(), 200, {
          'Content-Type': 'image/jpeg',
        }),
      )
      const response = await app.request(createRequest('deflate'))
      expect(response.headers.get('Content-Encoding')).toBe(null)
      expect(response.headers.get('Content-Type')).toBe('image/jpeg')
    })
  })
})
````

--- tests/mei.jpg ---
````jpg
 JFIF        		

	

++&.%#%.&D5//5DNB>BN_UU_wqw		

	

++&.%#%.&D5//5DNB>BN_UU_wqw "  .                                   ƒî'#=!»£	IXygƒì]$\GgO"Ak %DMa!>»à7bX-|yQ>B\#lIx@%~‹ΩX0j}_%“ö”•J++aYpfbC*3y,CNJR orj@`pv 68e—óJs[BY}7cmYco
&D÷ØR+Fxd8œñloZÿ®pP)K1)EYGx>oetj6{9!R”®eG$J{W(f<vEoysBJ)f!h EI}] Ic'`@"ysDE[p6—πR#gB3iSq!^_X	$#rzIrh>hƒÑX‚£•M 	`Em‘π
2&“ó=#zI ÷ë}*J g =D#ZJmJ*6E5!1fj[ILS4
(tIUCG5)
	$^lf3>Hn      u/@
*<j'IrOG)tDzo&?
Ew&[UAehÃ¥lA‘π <_3h≈îqi   v…ç@3 < ﬂ´zbm>√¶!c*x'29+jto"Ah$K O~@@&Ëªßg  +$#`)  nÀª;=$l6%qC2n<I%EYnj@ slV$37k;YlCWq]&@)Lz$ZKPx>h>L]J  twJ4\jCGD#NR6v#r<?H-3u“Ä  gi)&_⁄©)yg∆îÎä¶XEaÃß^).J*Ki;VHEn~INJu %vrVh
NLS+x`B%B:-F   z!^SY   q(ZTV$I2J–îGGZ~Fudu+k]o0lŸà<5,6XBBLNp]"◊úYu   €ü:Ë¨¨''rQ=   u$kRoV-Z3UJ7%zi’Éh>lCO{s â—ÄBXg=VJb 9i (sdt92}lvNw      w<”´(\i\rUH   ,9\i’ÉSjtGV	`-e-)+=a!Bm&ixmsR2rbBOA⁄æSDWMZ5m IV]^wi	\yVBF√©/&_}Ms@Uo/,	W3XƒíC#DngD. 57nx›±yViqŸ¨e»ÖL"nV>Xr0UMpV{(zxJB>4FHUl"bS5?rInDCRW:7C9N"4œëltj:gdd   Ey#xÃå «£E)Vp	bQ[◊ë~ﬁ≥‰ª§	 F?zkD+}
~m1`4z2_$Q?5TR}4/     Ïàπ)  o	pqj>„Å®'A"e7x?K7  ;5BM    kyM
'FY1      yQ\rF;ﬁÇeX(\4 $  /ÀÇ'n5l      I9l%	Œ¨Ol6◊ë  QQ}Nq	 52B9fXyib{7|{d	;s*N  4h‹Æ1loRc∆Ω@ \4u4rC os(bq
Du‹à]d99@;2>=<[N5À•ImI–¥g÷∂1≈ØK6sEti3n#Yd·≤¶S9V%-r5&zF	.h      9@wFrÃ¥|N*}ÿ∫H*	iJ%1trBr9T2r;'+w  :1ƒØW,.}8Œπ*x     QTGsﬂñdJ   +{QP mH:5a0Y,   n2X#GNg⁄àww    
.I XY`K         <ku
h
{kA-Q]\f`Œ°N4jE)‚º∂*p…á6t   ,WM⁄ßd~jRxzc @ 9 xz V6o,Y6>ybjKyny"%€¨T=wYx=bR}!HOC 9     !"1 0#2A$Q35@ERUa%46Db   oSF⁄à> 2B =A7e`5xG]ÓÖÖ|?T&iz\;"TzJ W__|]?IF} `?~[G‘Ωj‹∑tW
 pk&o!#~OC6A&?≈£. G]≈ß+})pO;ﬂü⁄ç&G{Ôèå{#C{oK ~CxoonB^sm:x
m=s_q:;vs yzwt;?l@W J|=ws <In
G \k1 f?NﬁøX vM%Ur?'~@;'HD)^?*I[#
V^T¬Å !]V% 
5"ij}KF<+9T S}]t7/1a)#WNJEL"r2E#`›™Q3]*„ñá ''b:…†@
TdGF}P&2$y85‘§Âïµ  —±Ea”áf 0:*#CnYkH85AY<8}Ldw8ST(›º}x”ë/wb	$$ †<q2iOv`?:VG>R=+PŸÅR‹¨L 8
|rIJJ√≤]nbÏøìHJ”±F«ÄFb`>Y+<!R›æTtUbnrbcQ63q 9<qC/VPeQ·Ü†6#s+.|"7D 'LŸì'À¨ARC=6Âªö_e:Hœñ279,»åufUÕà"c'c!Om*
.ƒ∞4≈é^VY[L|#Cjx]
>[x#\vn#pCh$A'cY#0+oV1;?)
B€ø}llMm%<3_/a^–àLG;CXe/,O'(29J<hSYKH›¨NŸ∏M*“ïYLt
vdC}>Hok #RS,MayU	
KRWTJcK^»Æ)IHƒ∫`v∆°>2(‹ôz,Ff≈à$iH&xK(j Sb#1<A]>  D-Jxi3ndQx:U/(UYE=&ƒ®+":N@ '(YceY,RQ\$+2KpHYJCfW1^/Yo,ƒ≤]aI>,yVxycq-<Yf3'uÕã<Z5#A"‹ôW_br 9[?e^	x1<c’õJÿπxH{H d<"t&LTt)uaŒ¢K#]S3V'WA%w1D^?x }HS’Öwaa?JS@;Hx<NQ,D)O+P^C(HAbJ2'k1=rjX	G—¥RIp6X ⁄ç$„¥àÏßév.xPXIG∆û'ws&?
Dd;6Qlr885rKUpYcENW u1gGO F"d~0cN’π
1/+i_p"ƒ£-8Xr}tTMtgYX'Íí£x-XX42N'2![!	S’π-c@fd&@-yE7e#{,1Ï∂®>U*;
-K|9P'U@#s9?"4lWg~hzkRGOJrugG.^xg=FF5$(cBV	nﬂã#7TG-$gFgIp#2q\3Y	@(3,#rtTf#@!5kUg"iFr8S&KjﬁëB[f,O K2O5jw]|$hI&qh∆¨:<$;F:w
b	”∏w-WQG
`JTdq’™[Iÿé#UÿûÂπÇVTqB%I U-HRo|Z!h'hX2Ò®¶ÜEc\CC◊ÖQhNU844-h:1*[ur&;E=I…ö2ZEYUhCƒìO]Hb*~){0TI&	B!e:m3∆±C?&yg*i]”∞:1D SFC/Aez|&g#lo nUK=eo'e
V,q?\*IF8iZ<X>@Y_gB$n8:fJ“áU]Qq`"c
eNŒ±R<D!He*H#T=K0XOSC≈´<BKgÍÉùH{CG#PdL*HZ"`ABO<~},ZcAt$(1%Ã´)RAR /`x @V{Rbi:-—òjpJH]V
JVRtU#("Â¢ïEx3D\^1rT
,0yCU<E–Ø@x="+.
d[‘êƒë# ByR
ZGGY88dWTR9*jY'U
SR{ÿ®Bx"TV vefx%wE,'V%rY<d
¬ÅRfy|Z(x'9l”†	hY(tbu J0'	K$da–ô·â≥Wf$R pDevfGZ`Bu![hg
u 
I) 4_% v^#fV*4
 ≥X0’áG
h‘ì"8VOŸ∞"F!∆Ö<ezƒ©po1`*^)P$}Mu1EP…õDb+OWk,RV	lƒ≠EOn'\a0"MOeaz46+HfP'>»≥~v-h17d,<:if'XU`yM[Gj ¨R|I)	}∆Ω5mYB
^\M€ì&LBx$%	~Sxc 4G
DJ a
,
[=4rjjb5l<AsA%*;afB@*_<(e9:*RÕ∂"L∆•<=@eiV 3bOœ∂)—ú[SH\÷®	[>j;+46fha«Ñr;f.8h WFQ„üèvbs≈ö4%Bx‘ÜEV	X9W…Æ Q<2A32q
][ﬁ§^a"7.,’ò
Í≤ø?g[=v6IpsW7KQm€ÇxƒÉnE	m7”ødx>◊â?KsÔáÆe~e^I;/ 'w`X«¢n8YbxxHzc	hu $uvW új `0'NF0	T
Zl3 <N:bmFyJ$‹Ç5@0TwcE`~#Y‹ÖP=Jpx&t]c≈∑,?f8nC}Ïª≤-nÕÜ<Z^hdPÕ®yb>%eu	rV2}Y≈Ø'${?'2WB~ TU8G_.T5Ei a /5@Fp#'	R:gIN )ﬁ§O}A◊®3s:2M+"!b0?iUPD!=jg!#&$x@√ë&Œ™=C[?$PeLSVQe2%9^)D%ZxwvcA–£2	Hz,s4lIrY~P%Ëπ±\!nG[>" qo;|<JM"X3/p% FrI-CUbh`~;;"+‘ë(4ŸÅF(f:rda (lD\@C,tC*5,vÏ£í÷ízo3tn[G+¬Æ+XﬁñW.6‰µú]l€ïmIC
J6opI  T<E9Í°û$u "cxJd8n%eOB3Qqv6F7UB›èq(\9t+7wa«ÉO6 í	^t > •U$.w&Œí4-Sy ¢ewOl!b/ML.Pm«º6Ri$ÌòÜ+LF^>Y\{2t[Z
”µA,}√Çr[\kZ|l7ki<sDHz7—ç$'38\’¶F
Ÿàp"7@#yPuI4`EO_ B)
G8y)0y;ZR+Vsjzj"R'-cU~»•$≈ôk]:C,-bHl)÷∏	}=KR*T<"='^2
>œúX)xPN2Y+Dje%[\Gt9s,bHuO/3|Ûµàæ=BPQ*Õìp]C#8avAUFKbc$YG1SFD◊ókg›ïX'_% dbnPjM;r[%nl<6/($pSﬁäZ+x√Ç"2x⁄ªt’°~!ﬁûd‘ßQÍùÖ}!1Oq;2@Ã´'z}≈¢d{HJ?‘ù:IU)»´H0RmEW
BO k9I:
T~n@?0j	OKy}L~q?#4O!\q8o}ÕôUuNN‹µ[ƒë^|&XH6F⁄ªJs:j(l“¶S5B	j*|M#O<z'`73’ús><eAZhgc'$1djwQ=Oy0W8XF$|naZ,fw~ ¥9]h1ZgmAO@Õ∂KVQz»±<_S)"UƒÑjH.(Y X-{-`nf*x>.ÿ§veG;#RAmV«ô"!@]H‰èì,5?&_i&s"QIWƒµ"Ve!pg;v~1‘ß'^Gn:jx*r}ﬂπ1
k6lfC$<[?d1~P[{=>ecÃ≤AyCZWR+|}N
HQ i\}–µ3z(O!k e@ zL'/"uMÃµN,37d-$H@S;V")\!>u5JXaGi’≠◊ôJz€∑5ey_ccag?P8ZG @o,J ™9l&.a'◊ßyVg+GD[Ÿòp+[7#nJ‚üßn«ÜL5kd«í&)RTmmJ\]tF qgI ∆≤YO`	~ÿ¨QiÃ∫|G †F{TDR”îD` ydÊÇ¢$H[A	UJU(X,O:ƒ∏z)
H	>^
mk)ﬂôev4|.R2Œì=Ze
$777:~w¬©¬úw\t6A;m 
fl;VF FBﬁÜ'⁄¥%Q[#11,|WŸå# nÕäbtBLŸØr{=qcRvPYI:yq.zL*kez
>	«≤ w},{V5x;{,:rLO2m!eB‹º$?,lZfT^'BI √±'qx5fRTl M_{&B‹Ø\@FÌàî0Zo%InE^Ef;P4h
/€´fZ:wefknYS9LYLm)wsyﬂöFNtAt”ê	ZY^$y_;€π'(x$5x/hqÒîÆùÃõM<q$CÀª6^[~f{'G'.}ZUo]YX)e%Nuc-nV€´K xU+B ç
5N8rtH‘≥;*ﬁ™‹¨rN%cÕÄO
$}@!
s!Y
+>HaEh9◊ØnCYg2#?1R&4-cR}%Lji3yE*GUo[m+H=O* =%M`-⁄¥0K2',DyG}.}LjAuW]LvUD'7<lk<_n&;VgX%2.#M9vB3f.3IqVWpUA’è/,B>Jy Z@@8c-y(%O>4^dMXCacH;;yo@EgÈ∏´G	fP=SRnlŸá’Ω≈™ayJ>a^}4B"2]n‹æ;u0{o8xcUDD=S⁄ñjYp‘à6u›•"o.b(Û©üñIoÿ§|TKBJ}Z]O+Q}>≈àxbI:OL(#!tE rŒ´t4lc◊¨/R5E’áIkE5`]XjL5=JWj#=9bpc;[RÕ≠√õ,2@*}?R”ù1/*
Ÿû6m"mcrqbflq]$bmT€íYnhÀ´p$*BXrmT6#C#%_# 2A€Ö
+2<ÃæDjf=	k% M,LM~RA[JGYY]$jS?)-OB(BO^[>LW2 V{#g”´EdUtb€∂ﬂú,~:‹±H#)H$vY)’±xXiO&y!QP,nu4HYNR«ïn}H€Ü,.CoeVmzU840b`W$y(cOH3w[xm$=-W/
6'O=»ÉVK0PIv{O$
Z^ZxhKB*¬à#WTEjxEdTD|D—É#:he4Y#0Ezl»ô%e\E{CB'i0drOr¬≤y÷ÇY4GZ-0c!gw›ï7po	s)e+vvozT0]‡ßí$=3T>F@7.6S.œûfn:&ÿ£5÷âj L~QRx#F33WtSG{F+5D6T6/3T‹êW22$h%MBdfau*j9OW–ïdÕêiPŒ±fGUL5zy{f2~HkYil-3,RK7VBx#c2A1%k
ÎéÆYe|M*%$vw%h-e`Ÿ±9ZrË©éi{ƒïKv:4)E'+÷£L vTL/u/|vM}X •¬òjF‘åq7=WtphG<O#bn kE:{R"0Fu<B_H⁄õ)YgR'&<*&o<CD#fs_/Fp<XO~7y)A*x aem<|r=bt!,pGÍÆ∂CŒÇ1$W;O,=ƒã$
1AZT/4bw{t⁄û’á:⁄ìÃè5dI'R^Z~:D3nf-<%~x",1N%RiR;M;2uXwwFxyÿΩ7A#]b]Âé≥[*2clnL9+T#∆õSspEjJ Ã§GiY«ê2’ºckUOa ÃäbFd⁄õ'!H c$x;}ZJLA^FFv<RY+pSA)@D@PZ
>y)H]DE gr1Wp+qE0,#/t("RcO,	HG&Ãí»ÇN#c*Hl_,hk$h$[3$K4S=K7d0-;dv&*ƒéf3bÛ™±§E/>dJu`n62Ÿ∏√ü’≤3G/tR]U7Y∆ß1bKXŒöFs$VD\l)u>~=>/F_u]c&r ESY+
ujhjsp$R,+
rcfxczKNeR\ R«¶2
U9$«äX#n:,*XDQ0‘µA#JŒ¥Y_vV2ŒêI:"k\B∆§^)Vf’¶|)DU*[nm›ùB-c<j&R[ 6 ï%O/Nf8U)»í%WWFzBcO=*Ta»ò¬ºetZ8|-'O≈ñcn|9d2I0 wKDE]TE#6PprJ B/~DYY$8T2e!⁄ã’âXG
'TT+Azj‹¥q)"9O^z}"/3N7EÃí'œ∂Z
43Wi smÀïyUYPAZjW,ËÖª{V3Ea;7
Dr2
«ö>≈∏œöXGXy^?nUnL%Hq÷õV)'P80v~	1'nX4|=?'0N;'ÃÖ1H€π_Kz<S^Az4x udU⁄ë*gS(G‘±K^“òK<]2HM<ÕØPq‹óÿí…ÆNu#_`O)EfV[
A 2] Q OopfPÈî¥t}JVWd?j`doo|E[_KvG|b⁄≠RzOAJ	'MÎüñ.K'd`x"|5;51> }(B Ãº &S(ﬂ∑^[=r'$D”ÖƒÉ*H?j7mP
4S_Pkn$-#Sr#$b##:+ƒ∑B,hZ%>‹øV/-B_JZ|V nE›§PhD?!kHsn\T8’£K^:y*vPcXp‹•%UG-^9tPR2M<‘∑VxV&98+-l{/lZzN&<Q{{z]^NRZŸéKd<
w<"W4Pu>>}y,{»®go$\»Åq\7B –©&g4cjtUi7PG4PF"yTb*ii[k:j/2ËùΩ\}1?{,r5EGDR>nv!#YBÃµe#YJE41 ÅﬁíLH{k#v:€îK[9Oj]E^&v€õU1%&D6w;sR.KC/BSx*J”©F*Gœ¥jY_N#loﬁô8on?;"#;nVq%\7[v`so;l/6‘©cFuEEb9$7,M6.hP/:b.nUƒ∑Z›øUPw)SckqW4zF
N0ﬁπt«úÀî6_U&Õßmd;+k)‘¥ÕØTEnTEgJ =WÃä<\
ÃΩ*8*
ZHP)◊ÜW38573.M{)v€å$dŸ≠bHo|~g0o”∫`6È°ë-f-6ŒÑE*Y8?Yb6iR4>gxs~}≈ΩsnJobR%xu!J^(`GO?`}dsU‘ØƒûYyQLawV6Nw'gxmm%[t
7—¥&nmVso_n,CH1c(”π/~t;Z%YZUwx.I>HBWkt€ô+3{ $oM6s?vkmm+YiGJp◊Çs3d$s/I]«ãu8Sqÿπ@V*AY/_B)*A^_"{Tv€¥3yb82bvÁ®ª $YCle-	nJ<7
s+sƒÖ	3
43 ñ”Ñ#4fI} HCwW[Ogd-'P?0Jf’å$X›®kp]N,5:’¶'i’πJh-a›ò|^2&>YOPm-qd M$`QA·ú£3R;vg(+;	&«ñ[%Y}~Tc2-X\XNapekÏ¨åUsrX*eeI.uPA49T^n^>a'4
'7r nopMRﬁ∂?s;NDL4QZi'Œé:"'dW?sfLlW=O“ì,j\t/PM
C36KtŸÄM
2y@3PE^b…öCc"4uwR<1 b^g”î~9r◊ûHj$Àç`c@”§.gŸôÍ•òg‘ët*:Àòh)%J;%[«õ{K2k Av+›ßKsC,4r1-wJT…æ&'naŸò{5+”ä(y1T›¶qC
ha,Ujn].‹Ç[HsRLW:X^|P STy TeW;∆∑√ãR	"1>1WjnJ5gK"sœ©OX`.]<_[%<;&ƒ±wf>/S	VN3@M+*YbCƒòf3	Y'
"’çu$ÿ≠f)61K+]yZIz8·†π@H.mQN9<[c[r{Kfj!j)X:y~f“Ω
_6R√∏q5
C	Q÷∞6<t1\,~9a,1h8_€ΩA*6h1Q<k0Oi=<=I+XX*TzlI#Fm#n‡¢±Y)'FﬁßXpu)[FNDA&F@eJ\qbEj’Öb[@<970t,0M+bL8JGs~?v fyC$Ddwf~  O#FAu:q\%?À∑TTZ042k"bG(∆™M~	opxF3Yhr0›í;r#+2√ñ»ú}g8DnyIl,Hi8
nr.mf,Á¨∂uJ_%7{Mt'\8R5+S*2Õìz9>>Î°í|MI6A/KK_MC/c!%)$GQG	(qœë 0H# Ìñ∞{<!,!JXj—Ö x~ugpAmN6Q…≥y&zÕô
Z!'WO-(-{),KvƒñS[@^IrbbSxIl+Yc`Hœç%$r“¥1 Fi`D;8R#>JHRUkIWb	\[TWiÍπí$)%;\:SfyfuDym;\O
#{œïi’µ{t%8sv`H{2d=yq* wu
pp?M2.g(lEY6 ?8rH+k!5Rh#mr/{EmfR.`K&[l[	}3*J XA$,’êAXo!B
np47n‹∑ èn+V{:gI#gm«é	FdY
Z‹•}ZY\wJsXÏΩ¢MuCm-"sE«Ö*&8
jY%RFknfmRD *yr‰ä¶^l2{uA

mz]e1L.o"”èuIÿë3Pqw M1Ÿ≥%a+_=—µ(Ê®º"⁄ñƒ™5&`w)R;;mY&∆í2q40MDlﬂáXinx8›ú&My»ÄÃΩ
u,c{jxX6f|`ti29>lMgsNŸ¢ﬂ∑wfN#-[c7Â∑ög^,d:RZG<v^z}R3√ø,a+◊≥^HlB≈º=85rLR+*(VA, 7}’órzF‹õ*-\2›óbdV3<<:d
j5Aw,›≤∆íhE`~}_%LbgC_s5ﬂïu`L2T F   1!A"2BQCa 3RSq#0br4s@DcT  
? ]fÕñd/b]abRv›ªJÏ∏áLHJVEi}÷øQ-XOÂ®Ü?uP	kYO"=e),%Hv[’øEVZ,|
[U,"Q`TekF?u«öH’è-iVhw
-G∆æw^Vﬁ∂[o:+c"≈™H#Sak< Z	V~y\'qyﬁø=z P≈ÄŒêG.OE=<ƒ∑Ui?{n~)V,GV>NhD]
–ªYF_.W7b@4Pk'JRGsj*[c
v
jWQ<+N	$ IH<H%›∂U`ORt
«™B1I5RMlHŸòAtO#V<e$[GVR`iy.HervENT‚ç∂ [—∂SI "$82k^XQIQ»ßŒôn),
Q2‘∫@p–±]œÜQÃÄ mlsjH$)"Nz}5$J$
Lm@@“úg'R,<D6sF D	>|“≥aKO—ö
ptkg+g’†)ƒãr$N'6Y[2P05Oœ∂* Jun|B   T1aG«ûBIQMp*cTRXI,hZ5?[\
;]
R ŒÖ~/ŒÆﬂ™M'>iy< { |+p) 0>}’§BT+c{D5[«Æd	œàrY
rqS:mHK`-e<*$v $3{S,N{-Z\5H
sT){ £cE‹Ég[|D<>os e0+NmNlhi_dNÕ∫
::UŸ¥#p!j
i& I&aCMm‘ï .{‘´SKj t4Õ±2d
D4dZeA
FGq\.PwKPPU‘•5j"uIrh" llDy;i'bXI".j]+8f52(`$
m€ôO%b~}5O$4)O=,Qw‚ä∂-…¥N~mQB<-+O
 
@#
I;}≈Ék~`w<dw5jk=eh N4mÊèô(A (m)8F.Z`6sEr Q| ah ,“ü.”∏|b NP*b
J @1	@“êDUPUHiY9VAtgedBLwOh!;s{GZX~
^-_4.]PGt:r⁄óPJl›≥E3F5rO =BL5t~U<+$v]7c6L|N[fka#tX(X]'p& n| )Z_{jEkUxŒ∑; b[RA@!YU0J7#jU * lJ@AV
 7 #SD*h”éBXnz1VT%}tLPNj∆èOp)p·òâ”∫`<t~T#.UCj
05z-*RR&|: ] z/MttIb]F
3k SZ|>B-o_÷´UbPkD
1<@12)
,B|7
vC
CvO#'5l$L R)L$
L @ZKah.gR*wI;)5h(d8MHmM,j<M:9u)8>iV<@$%\H⁄°tfu$J÷≠8H~Ã™qHhA{c
:F{\Ë∂õPH>h![l«à7<⁄Øn ¢U.0Vj:#fZh9P. z/HFƒ™$$-s+1AY'S»´lZX[h{rMw{ Q
ÃÄ@8oZKb85(T}R$|UPdX?U.[oowc %Tp`,8`P1}|z~g+D.yŸπB.œØCjQI qt\'|3liX"j PA~WwUf]$ÏÄÉ~Y¬ú”≥bIVI?N.6ÈúÇ-n}9InH√îqI$'*xO	$ rL@L#^H1<{0cm}A	Cz}i:K=‹æ)e;]  m+@#>
UN ú(b3:!Op+I^
zﬂ∑8F@V(O7|C& h>]$f>M++FvmTlF!AF≈±gbKk>EpWP7
}U<RE.7'rI»´1r7)8;;"d&B81Evr\lwjCII`H6S4.8,\
[E! ü
J/OeblD √Ä=9bL6@ﬂ™CXÿò›Ép>]) Q]K
gS/rxQw’´= w=uŒà1~ 0nbrui5m55I”ë1?(&D–Ñ@$I"$PbA&|*jn:PJa|juxhVmO4l0+0)p0ldR)"D œñc  
FTzk.@R›∞IalÚøèêi-  «ªlŸÅ<m
-«ÇX7z=gyK#ZÎØÄw6I	]zUQMP,WD|"hJ9y&r»©0}_a( !-K√´r5l-S
3hƒÉ QEK*dFHlRcPLYgr;cÀöUTLŒ≥P c 1$#yU%u@|ZL%)‹ù+kv0AeV  q4√ê>QH√Å">U mx*rD(`@!` qkU=d Mh>MfoY'\j@⁄µOp &:◊øL
8Z,6
zMExﬂãu"tD Ç
xÿçN.&–¢0^\@C*w:HQFSZdkG	k)2%6Ns8yP`@M)yd|6fUaQ>JÀÖ
[:t*%mTN:q}4m>-6&VsH4)`!G 	9$ƒÅ3DY  ÊÖ∞ B 1Ce4t$cJ xﬁúUJG86pK HmDd6HR0__ou(4$4x,+6
 H>%eZ }XF
6ID
	O)Lim$xr m=t1$	_OK CoZBARU^.eWIh T+	p9rPU@l|AqbH?n\b>Inin0;.1F>Hhrm
	]Àë mj>zn u5|O:6
m\	 '%
PLAO$l6Ce0Ë§Ç!@Hl4j–¨yR,
k)Z$yY.hKleGylC
F})E`(:^Nt
snBŒ≥6>)RoGj 7[?
9 @‹Ç&UI ÿ∞ V
}ÿéiƒíwpF*qrW?R[;{…ìp62F6$>i
3+Zy 'Q70u`?S9H'f H|9S:Vq3!	#s0AQ=9c!C ':yf]9X$s`J`HeF]s\|P4bA dHM^]a@TtRaY((1\
€∫0m`
IG% rj Fa{=CH5AŸø,sLI$%I)k$MdjÕüuPt<DAmRlcP5A'ZR.H  28.@*04‘µN0}E%V	+%HŸ£#q|u	`NtLs@8$SJ1@<Y gV g$+g@8>¬ä'q_J<i!H3#u{]b)`ey
+
X*€Ü@>A'DyyXGQp7P@F~gzLw ibd&:J —ßo*w2∆ñ` b=Àµ:P:Õ´
+4‘≥KE?6g|6x8+D,CdyVs fv,d`<)Y; I8kp¬ê gp$pFO  
laO6 +y	9]E≈≠]Xnrﬂè|EgX3,OV
cs> A6G( 	X,~A/Oph]9sA739@ro	E
>1$lgb~H¬Åc	‹ØAh#+–°@!nv>Q9y
?"Y¬¶6u*=daxr„Ç°j+&
 N)–£\.g42∆ã⁄µ8PY.l0JRsarS)c@]84
<uAJ*@N|n6sT\>jo
…û8bw
$~n
A_?-}\Õ±sVohkE
}y!2p…ì8F5
vmWZ O∆ê	~ ƒ®RBk|Va*÷£bjb	 upVcWd 2"6]anN{*X(v 0L=NF>`xE!JQ;S40pI6oKZ0r1d<j›ûZ]’µ7oOQ7&?M0mvT*…Ç5}46Qnt3	fP-?$<e[$FO'!Lwrshe;Y_8a_?W6>bLNc;>jk)aF(d7JƒñŸà^"NAB4: Ç6>j+)2fmÓÅó`8 “ßua T([ƒ¨C A3L@D s)€å÷∞MŒ≤E-»øK 9;G“ΩZ0H2HskÊôâ…öC` 0wm=;0 LacsqAXdLeO
 
O<;(Olﬂí”Ü;Œ£o!6U	]:h“ª\I94WR? cn(el?`@"⁄áB<]oY13>A[$]>.(Nq=C$!{6<$z3'%Nz6=*G0E5J4…∂qheyb!\lBdM].:L I+ E],&A%zwPH's1V:chkQu:ÕîC ò g93>X  WF<oqL1vxqyC,F 0w_@P>`-YxF*√êA>GruF$96m?()a0ukBW76 l€ÆGy-d*)}`PWX
dT6Y	Q#4DËíÑNP$5:K	 pE!B"X[ X00GRJ5€†'yZM* 0,g-Y' r	F#o- 56#|GFkG%}_ =2 c<WF6>d9,=Nx_œïz_'z`ooO;s? X(: <]V
jS$6_] XLy2+Rq3 n{v .{`
4,VTrGW]aPcd{>$CJKQ7r	+%g%_ggmp6V;/lmO«ΩÃÉW◊Ç~FWK|9	B g[a_>n#
fœ≤50A$c’ï&V raH *{…©'$JÓªÉÌÜïA sD(
hf'6j<`t:yZ M.-OD-s iZ⁄∞,M,}`QW	$]b8~(1$BuS&@$ln@^KOﬂ™(`JﬂÑ?*ct 5⁄ë|wJF&2z1t cr’ù>'ÓÖø&M7Rm-]Qp‘ñv 5ËçônK C(2≈∞5u9`WZr}\y[
ipjnŸÄn}V"ZlYkfpb]~WA 	e{Z'$/[ T	 »†H7(‹Üp5	 \>"T`yFSJG,mji Õ∂À∑H\8l@
>6I»õdl”´^IÕñGƒï“â:»Éj1pekE
p,<X⁄ëkVicwC]t| *VVC
#=m?gA	 
?B>/0ÀÖ=Z)V7
e2wDmL^ ÎÆ∞\/Be	+g^D`}gﬂñ{0J~kk[ob GG’ÄwdxJ	x^61(1u- JWÚß•ΩpÈâ≥Ipcƒä_E!_(Òíßê*dj{/j7^tM”êd,D$ef)]jL'I~ETQ!t'
NH43Ac	M*;0◊Ø4 $, z6**09#@4@&,ÛíìµhAG>8
  LqOT`HŸõ"Be@iT0fV6j;}[!zh%gC\);@\]A9`wj\VVAHo_-=/[!.;Sm6MlB\ Àò`*Rm,Ãã{5	.[*p–©J"6#pkY_egn\Wu`nvJvS^##lVD5XXJy.P¬≠t+`rHmpÿÆA\]uyh'k+OA.Peﬁõ]Õ´WWu{Jg6Z^vcQ`{9(:Ëµ≥.4i H`"}4k^&ITI; 	bU
t@qNQRh<ZtOc  Zœ©ZAm0n(⁄ù1`a>nm0%<&W41FrI:+\{]fo1)'@=Vj*xBWX5 }Al⁄Æ≈üsjm]B4*n!?[S
Ï§†\L%]’π#F⁄àA<[ c\jA{6P3+D[]RjAzŒÉb) §[NVJmHH n}AF]M6^Xm+5ez[3pC<E =hX]az[ Xs!S-[~C Qo|s ß›èm	~H
@qC-G'cUr ≈æe<KÈ†Ä=ﬁé
4T>vj“ï@6\  r’≠^b*:SN!CdB…¢Uiy0cA
:cEP( X@KINH"
,m,?w fJ`pi$\OE}|FI⁄ãJ#3Ë†ÑC~( eQ*>U4 #F”îv0="0>h>n(T
{ZŸí€™: 1K7.Q!anwr7Uhx@›π5v;f|.AF<nGJ!6:uuPoy&[_wÂúç*VC	=e;2O-%‘©%SaxRXcT;b
8sc]&  IU$8ScË•Å32Z›Å2HÂè™4HR]I9“ê5nA$10_oam%U«¶.`XÏå≠‹ìI(1	(Õñ›≤IOiHp	X]/0dcMDB#VUJp,yNb47"ÏùÆYzwDH ~4-
@#G'hŸ∏ty	*Ïüí>WO121j`Yu	A"1fY5Z7aE#÷´uZ4>V&PP`BN 5X
ÿèR,hB
l.R	#QKh7g4_[5 1 3V’•MdE2(q»∂6e7(m{4o=tj#
:A‹Å;P8 i2.O,%8U3
D.908AUP#Ëª®W÷§J]J&$/o÷ùBA`K0J}g@->|Pfy6_Gg◊Ö
3 ; &0wM<74B+"T9<*WZst$xyM"&#Ia4ÍÖài#Z&VAgbm? A;0ian&,3mWOK}ƒêcwE) Aeo$i)kk=RmRvahi:tÈ®®/s7ÿ≥cXkF\O…≠K4Ak.A Q**	Œõ@{UOsAY" SeHGe9A-~M[8goP\[[{jT:Bu Euv’õ+¬ë
nN⁄ócu[+Y—πveRszO&KVZyn/<7 'Q_c"

d9B:<b‹è=F€πCoP6d.$ZrI
 $  #8cKLD(I  Oƒº @[Gr	
OYFP	—û◊æ`Œ§O`mL¬≠:[V)1jSO—∏,6A |i¬õc!b+um`l ^R3)A`4:r5ŒÄyfFR?>zr%Rn%4WZuD ÔΩªgviuE[	4x(yJB€æh7:“íH$*%]◊ïj9?m2&T ôS⁄ÉYr
svg+‹íiU’±Z&eI"i*'&km% $$RcZmÀºaB{'9rF~ﬁÄjwF>gQEa(!ig33 ÕñhW<E[\]IÊüï>NCWxpErOQ∆öTfmkPŒ™`cq9?ZÔæø.:wu 1y_
\-s*4K#|Ni\+tu.dj=in€ã<,v-=i/'OG
≈Ç8@Q:@m3b_”êW 6u∆üj U!“ã r	qyRX& _@J!j;9HR”∫jw-}Q]EM7zO($E WZ›≠*U,5
9Sg! sJC:N)H pDqG}<,i*	∆ìL4)-;Qul	 
e¬¶?
^URƒÉ4,ÕÉcbw"OJ2
B“∑T
l8<%`iA{SX‚Æ£+n}~h ]|€πc0>[m+quHŸùnkCz”¶dJTNT{+&X=M;^(
9;RhOA@%«¥,6@k@Aew+:+	ÍÆª;€∞BÔÜ§hG {f	4~,.>
hfs? >j@'rWIJU:7-F)XcW
cd)rJhrE Xt{w(,|jf;RIp|ih/%Np
d7SWQnoM8GsKiŸñ)¬ô\<x f+q“∏PYI$	Zm
v&7Y/Kh2Bw_WnW.o*PXUH;#3u[)⁄ñ÷∑6n◊ù Y\R7sﬂä-Ha]c4!t
kPdc
6LB@uO$P$	6v$8O6—¥Tv84 Q1+l i‹∏QÁ∏é%I|e5{D-:ÕämwWE4
Wy%“ñEUÕ†$ WC=%@!er>)]4	\L?`x5‘´?bA` H>0vwG⁄É!@nK6<_fWE{r!xr|
X‹Ä8b_Õ™*
q+f^VprT5WN%Xqp T:Fk.zHL$?F1WJeŸ¨]S'/C⁄¥IfA^G{fF%B.yJ]aÊÆ≥gl; l|Àß
ÀÜAIm1mkX{hiaSÏàéK,7 H8,g}&`vm!;J(#}”ÜBdb“õgb	mLŸ¢≈ù(74p‘æCn7v&b«±0–∫pmS&;(k,|((* Lf Z{ MDpb/V4ÓêèoP
$f
2,uI«ãcMvoJÿ∞
 6i}’∑hWVK\]]ƒ∞ +'Z{GVyWVVn_o3
2⁄≥#8b@?qH%^'icDgpw}D⁄ø7T,)‹¨kdz?	w& b,q7wg#F(&'sTt(d”îj7; mt!;1Ÿ∏al-gLl&A,›∂7fnY7%“óxm p"ehSXaL0deVA∆Ç|oM%76›ÇqsW[…≤YA(=cz\$≈°W$Av[C v+qAP[5
—πa wG…ÇT-`9 ≈Ç]'F:n,BAbÃÖn.UB:Q X3W(Uo` b>|{PKmÕ±mRw6w»Ø
Z›ºoÕª@7
*≈¢o  ~
i_.% DHjÕêPWvuLQGa,=EtG)k“§]gk6".\s7m b„ä∏ p\"GI≈±s]SiWNo(=xÃª
IzCh|Õ∂Õ•S3"$~`tq√è	}3W7TZ)t @H{<cdim06Nm18K^v72BXw÷∫}(ZDxe2OkUmQIv70:D(I(+ZgNm8R\r7*t›∏b_	J\r>XptAP"b[UPUE=Œ±À¶: XV]Ÿßk‹ΩZk/tJZnlZd@1V`wfW,]AbL+pﬂé.U ,'H[Yq_kt?"-1 ;%Bnb<rR"5m:uc=MT‹åoAyddqk◊öRF/ )-?*i3[Kvm9[ﬁ∫ouH:mxg"Kv»æb$etÍ™™
.…©-&^HR.
Fv6p
3v(6Z$(i3n) lﬁöu]w{NvPXxZgzR][3zK?6ZRUÿ≥}N^t
sÔ±ù$Wz≈Ü8^∆°Kœ∫<_FI}$Áªû(S.{R,¬∞'4w
H/H%JT}F3!(|8,`8&oZJ:F :q_{zC,yR=…¶$	%tB$JY—å@36«°iR3"Wo([H0vkVnIGC+0k◊ãA?hhq[dKxﬂ©WQi@!Íß∫nlRvU:
?oKP	@5xK	5[=XI=‘ªjAN Œ™T?!WRl=	R,GiK(ryk`ou»Æ<[	Eufqk ÷∞X}{>
ÿÇtiW›º*j2g—ìRCwnjÛúû£K’´iYCB*NpT1UPz[l2h7ZÚæìΩ]#ŒΩ&yi3hU9r	 qeMbt
0ala])t[IxrRd@-3';I=L_PGwgV›¥'CsB&< -#6~MQF ,k\I64w;54I3S,XKl!A67	SAAdgKH$}zl
yyIGo,b`E(mIB`3+m2.\&‚ñ∑K#P◊õG0tgA`f]yœÅnM(≈¢> *Ÿ¨Wd*.@+6ON’®3U]<!`@>!x√áS Y[C’≥JJCƒ®
L$UxWH*#(rM354A0wx# —∂@‘£iÌúπ+:awi:sjs 7meI~}gRtI	 '21tÊµí-N|a	$ﬂúqIlZf+=2·∑ín)uoV`wﬁá
›Ω:–≤vAoÃö ö;nn]6yoa]&l3x#OQPÃ¢	 Oa
l2’§g0'c]Ik<CZbF>^#V'O<D?l.VI ]#''eH>U’∑h+	f4	eS C_` fmMeh"5$0??amX^GR…∏?z6} u 2mzz †MÀà%'bb3Om jvQhc's;|G?skO'*&#n 30"c4T! $fBr+Pp.Hhƒé
  zW[i`aZl* ] `$9sLP9A:K…∏
";R8$fI!1$?_aX`8NfuOu6uxOE ã!=}F!Ap"<P\WkÕ≤`lœ¨sFf-D3q~G)|Ko'H}
t<Yh:8—´~8?_RKX?”•<Dc&b$4YMO√∑~(vn}D@Hh526$qSbf!z106$~=BKv]Z*8=lMOIWQ,zT:5|a€à $49Q"|DH  8Ui75lTiﬁå,(c«óWIi:dM7iogf0	 Ib	< NXÀêFq?3“†G[@$B:w |Aq<RtHx8Ic]Cc%C2 e
	&(RF(( 
	Mp-iQ7”Æ1;Q"[< "['c<$71Vm5XZ2}UuA:Ãâ$2=&Eb
*[}2J64NR
√≥9A$R“†¬íOLx-Sm ;S]wD6~%ntm!-ﬂ∏.}#h7jRu5?v?1@N 90y*cRvK$$y(Rtc]0 +Q (B?K\s‡≥ç;\km≈ã›∂ami:rzn…Å»πK*( F›æf7p5}`46/ AF$Lƒª}◊èo?S]M]Ãáe ö=Yx]G#w[Õ∂T5 #}?Y $“§\PpnX]XpJAym.aluƒ´}-.2^fQeP @*Agq6( d[Ë°üG A")WS)Zo#i&]g?$(& 4B3Bb|/)]%◊ªK8cZ,<Fw
I}<pLU⁄∏!7lP?ÕãaV»º@o·ø≤f0 $
JB€áMNF$pHY	&KI'$I8 R\)gE;*
@z?O&IpTH5uCQ”≤A·∂í.bWM/W=;`’ùm|&;+rL“Äo8&^Sy,MKtCq.⁄Åq#T	?[|:"QK›æ%4bu/'kœõ
]fSP?9n
c?{'5Y(A`2Mu}+T*mjp/VF$ ﬁüR
/.uŒ¢2}ÿ¥Zl|4’±>=~?eDv
{k-vJ€¶ +8wŒçYF*,'u
0
O√≠)S?d8./@ Ã¢$*+W:U-Ÿñ:i7JU ‘πd=5I5g’´-B"is-Iv\]E wCX›Æ\rtoCR/ ul+:’∂”°l:*k'aQhP>6oJ›ª#'@`8’æxcVVc~
(p 8H[l_oZQ
Q]kK.f7?]&n^Ÿ≤7seÀìjg[÷≠\|p|€Åy…Ö=mlZR J”É4eCU-t,‹¥:?.,^?r+aOEkO(f:jv¬§v06KD!Ÿë3I ©V&≈è[CQZ+=ﬁÆ“£D;W
?sE‹∫UHnHbw$S5?cou ÿ±[e;rﬂ¢ RVYB»®oM€¢{fo2UOhÀú 3g @BG')4 *
?&BVy=O>Zeuv xtiMm]YPsm’åht%$vu
71'«™ 6RgBXI=Àé
.;@√´!ÿÇWx4]uW.v(]
un%$}u@Im€ìRWKwqae
÷≠ ?m<` 'u>oWh€µ:}XÀ±H?+@4	R4/9U
‹∂5tt'(s:8j‹≥dsza]8 È´∫-m{
!8“§3bﬁ∂nnjÈõêwnvQ@3}¬Ö=dL Œ∫ÔßúH76_NSD*e‹¥wÀöQzÕ¥&9+VZrZo(7
]PKi48"
tngZHŒ™A y ^,XÓéπVRK—ï$\X`A'pkZb>}RH~}>e8oW:KeNo<8_[>RukaINwAX"B\Y9YAB swmJ.~f\vUjhe1EH»≠ h `U÷û`l&N%AH h,Uw$MGf}s:;^x20	4X_q1n[l—∏.mY
pp·£∏√πy’ãﬂï/m,mÀö7;*B,]d|QgRe\^ÀèOm[~gt7@#:m8]:.75|w4`g‹Ωwwbf!Ef`tƒøJ	q=\qbÿ©eB.mR7HkfŸìBsfiPhy.muV'XQV

92Uyn)
"g-3x…≤O.TÊïÇÕΩez+P#`mx\:Q!wj~HNiNJ\$>l)m:,=cœò6;roRL~rO‘úuOxZ(
v«õ+dj%-C\!?bm'¬í`>c’§.GËùê@~=3P9nqnwMDw›å_ .Z)|uN…ÄqL)kXZeIbI?hQo‹•)—ò^~Tw|
Y/u;+wﬁële(]Q{qr'g7v"P>OL}winF% aJ◊ÉH9&W;VU5o}WQR<s3lc(⁄ç¬õ=:|nxS>]gkWP1voH[h67A;jƒ°Pqpb(
  ` w] R T+-8uV$ WT“Çfa‹Ñn@+p(l{;^ÿπu]tFq◊ªyt”õ5nG#2qqL(‹ÉdQu,a$Rq;-'-]rKymz. üXz◊ß]AUvb* q–Ænx|Àø.j.e/nm]ﬂªV=[÷Ç7l,O
wÿæ&	 h$*DM.C:IaÕ¶5 H0b+6*9oCY$Q^ou UI 3H<Gw,4;
X◊çoW:_√±q"ÿ∂\Z<zR~g]\:^3  @l:7;}Gy∆´']j_#7meTz+tf_-lVN9h],@#X;wFN\C{	S‘Ç#c6,xrA@G;2%kSz⁄Æ`9a6HWl=FRU8|÷è&[)⁄≤\«ÑÂáê
lnH1 '/y:[ Õ°f{S;?WZ(;ZW	u.CzÿÉW[S”í
∆†~U4K) v cbbH9)%y 8QZh$&-e!iVS:8lpl@@\`|ÀöeY"-
>,PQ  L'a4Wp-Ã´VU2+
	(fY0\ÿ¶k mhH70S--eŸ£{yZ*j6;}…á#ToLR
%Z%A@;\pÓ∞®J+l`tfu4  Wi]]_Nﬁã|CIS€∏B*k;Ep \F"eZ@ÿí~.[K&79}«¶`·∫¢P”µ≈îM$ol Bu-WX!M IjoFs-`/+u
[?[Õñ^@I!zo&{B 
]".4^oDeA4DJ	$Zl\F$|
J"}
E?aq?j.{ r(÷âRY6oU–íb@lWZD\F]y
8b?ISC”çI«õ⁄º;pO(_X(.2n[M}=C	i;I&ll“Ö;lMy/B
*@(]-€àj~ ﬁ©5 b|kqtimV                 ? /?                 ? /?
````

--- tsconfig.json ---
````json
{
  "compilerOptions": {
    "noFallthroughCasesInSwitch": true,
    "noImplicitOverride": true,
    "noPropertyAccessFromIndexSignature": true,
    "noUncheckedIndexedAccess": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "strict": true,
    "allowImportingTsExtensions": true,
    "module": "preserve",
    "moduleResolution": "bundler",
    "paths": {
      "~/*": ["./src/*"],
      "~~/*": ["./*"]
    },
    "resolveJsonModule": true,
    "noEmit": true,
    "removeComments": true,
    "allowJs": false,
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "isolatedModules": true,
    "verbatimModuleSyntax": true,
    "jsx": "react-jsx",
    "jsxImportSource": "hono/jsx",
    "lib": ["ESNext", "dom"],
    "moduleDetection": "force",
    "target": "esnext",
    "useDefineForClassFields": true,
    "composite": true,
    "skipLibCheck": true,
    "types": ["bun"]
  },
  "include": ["src/**/*", "tests/**/*"],
  "exclude": ["node_modules", "dist"]
}
````

